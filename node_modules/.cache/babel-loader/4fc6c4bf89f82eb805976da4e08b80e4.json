{"ast":null,"code":"var _jsxFileName = \"/home/lawfirm/Documents/Tutorials/Practices/Budgetify App/src/Pages/Login.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link, Redirect } from \"react-router-dom\";\nimport Navbar from \"../Components/Navbar\";\nexport default function Login(props) {\n  const [redirect, setRedirect] = useState(null);\n  useEffect(() => {\n    const success = document.getElementById(\"success\");\n    const failed = document.getElementById(\"failed\");\n    const loading = document.getElementById(\"loading\");\n    const loginForm = document.getElementById(\"login-form\");\n\n    const login = e => {\n      e.preventDefault();\n      const formData = new FormData(loginForm);\n      const username = formData.get(\"username\");\n      const password = formData.get(\"password\");\n      loading.style.display = \"flex\";\n      success.style.display = \"none\";\n      failed.style.display = \"none\";\n      const Params = {\n        headers: {\n          \"Content-type\": \"application/JSON\"\n        },\n        body: JSON.stringify({\n          username: username,\n          password: password\n        }),\n        method: \"POST\"\n      };\n\n      async function auth() {\n        const res = await fetch(\"https://budgetify20.herokuapp.com/api/login\", Params);\n        const data = await res.json();\n        console.log(data);\n        loginForm.reset();\n        success.style.display = \"flex\";\n        loading.style.display = \"none\";\n        failed.style.display = \"none\";\n        success.innerHTML = data.error ? data.error + \" Please try again\" : data.message;\n\n        if (data.message) {\n          console.log(props);\n          props.updateUser({\n            username: username,\n            password: password\n          });\n          setRedirect(\"/profile\");\n        }\n      }\n\n      auth().catch(err => {\n        failed.style.display = \"flex\";\n        loading.style.display = \"none\";\n        failed.innerHTML = err;\n      });\n    };\n\n    if (loginForm) loginForm.onsubmit = login;\n  });\n\n  if (redirect === null) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"section\", {\n      id: \"login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"user-icon.png\",\n      alt: \"\",\n      className: \"user-icon-login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 5\n      }\n    }, \"Sign In\"), /*#__PURE__*/React.createElement(\"form\", {\n      id: \"login-form\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-field-login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-user\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      name: \"username\",\n      id: \"username-login\",\n      placeholder: \"USERNAME\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"input-field-login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-lock\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      id: \"password-login\",\n      placeholder: \"PASSWORD\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }\n    })), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      value: \"Login\",\n      id: \"login-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 61\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Successful-login\",\n      id: \"success\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }\n    }, \"Registeration Successful!\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"Unsuccessful-login\",\n      id: \"failed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }\n    }, \"Use a valid user input\"), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"loading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"h4\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 27\n      }\n    }, \"Loading...\")), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"remember\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      type: \"checkbox\",\n      name: \"remember-me\",\n      id: \"remember-me\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 36\n      }\n    }), /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 96\n      }\n    }, \"Remember me\")), /*#__PURE__*/React.createElement(\"label\", {\n      htmlFor: \"Forgot-password\",\n      className: \"forgot-password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Link, {\n      to: \"/forgot\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 70\n      }\n    }, \"Forgot Password?\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"line-through\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 5\n      }\n    }, \"Don't have an account ? \", /*#__PURE__*/React.createElement(Link, {\n      to: \"/signup\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 32\n      }\n    }, \"REGISTER HERE\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"illustration-login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 1\n      }\n    }));\n  } else {\n    return /*#__PURE__*/React.createElement(Redirect, {\n      to: redirect,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 12\n      }\n    });\n  }\n\n  ;\n}\n;","map":{"version":3,"sources":["/home/lawfirm/Documents/Tutorials/Practices/Budgetify App/src/Pages/Login.js"],"names":["React","useState","useEffect","Link","Redirect","Navbar","Login","props","redirect","setRedirect","success","document","getElementById","failed","loading","loginForm","login","e","preventDefault","formData","FormData","username","get","password","style","display","Params","headers","body","JSON","stringify","method","auth","res","fetch","data","json","console","log","reset","innerHTML","error","message","updateUser","catch","err","onsubmit"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,IAAT,EAAeC,QAAf,QAA+B,kBAA/B;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AAEA,eAAe,SAASC,KAAT,CAAeC,KAAf,EAAsB;AACjC,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,IAAD,CAAxC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMQ,OAAO,GAAGC,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAAhB;AACA,UAAMC,MAAM,GAAGF,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAf;AACA,UAAME,OAAO,GAAGH,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAAhB;AACA,UAAMG,SAAS,GAAGJ,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAlB;;AAEN,UAAMI,KAAK,GAAIC,CAAD,IAAO;AACpBA,MAAAA,CAAC,CAACC,cAAF;AACA,YAAMC,QAAQ,GAAG,IAAIC,QAAJ,CAAaL,SAAb,CAAjB;AACA,YAAMM,QAAQ,GAAGF,QAAQ,CAACG,GAAT,CAAa,UAAb,CAAjB;AACS,YAAMC,QAAQ,GAAGJ,QAAQ,CAACG,GAAT,CAAa,UAAb,CAAjB;AACAR,MAAAA,OAAO,CAACU,KAAR,CAAcC,OAAd,GAAwB,MAAxB;AACAf,MAAAA,OAAO,CAACc,KAAR,CAAcC,OAAd,GAAwB,MAAxB;AACAZ,MAAAA,MAAM,CAACW,KAAP,CAAaC,OAAb,GAAuB,MAAvB;AAET,YAAMC,MAAM,GAAG;AACdC,QAAAA,OAAO,EAAE;AACR,0BAAgB;AADR,SADK;AAIdC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACpBT,UAAAA,QAAQ,EAAEA,QADU;AAEpBE,UAAAA,QAAQ,EAAEA;AAFU,SAAf,CAJQ;AAQdQ,QAAAA,MAAM,EAAE;AARM,OAAf;;AAWA,qBAAeC,IAAf,GAAsB;AACrB,cAAMC,GAAG,GAAG,MAAMC,KAAK,CACtB,6CADsB,EAEtBR,MAFsB,CAAvB;AAIA,cAAMS,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAnB;AACYC,QAAAA,OAAO,CAACC,GAAR,CAAYH,IAAZ;AACApB,QAAAA,SAAS,CAACwB,KAAV;AACA7B,QAAAA,OAAO,CAACc,KAAR,CAAcC,OAAd,GAAwB,MAAxB;AACAX,QAAAA,OAAO,CAACU,KAAR,CAAcC,OAAd,GAAwB,MAAxB;AACAZ,QAAAA,MAAM,CAACW,KAAP,CAAaC,OAAb,GAAuB,MAAvB;AACAf,QAAAA,OAAO,CAAC8B,SAAR,GAAoBL,IAAI,CAACM,KAAL,GAAaN,IAAI,CAACM,KAAL,GAAa,mBAA1B,GAAgDN,IAAI,CAACO,OAAzE;;AACA,YAAGP,IAAI,CAACO,OAAR,EAAiB;AACbL,UAAAA,OAAO,CAACC,GAAR,CAAY/B,KAAZ;AACAA,UAAAA,KAAK,CAACoC,UAAN,CAAiB;AACbtB,YAAAA,QAAQ,EAAEA,QADG;AAEbE,YAAAA,QAAQ,EAAEA;AAFG,WAAjB;AAIAd,UAAAA,WAAW,CAAC,UAAD,CAAX;AACH;AACb;;AACDuB,MAAAA,IAAI,GAAGY,KAAP,CAAaC,GAAG,IAAI;AACPhC,QAAAA,MAAM,CAACW,KAAP,CAAaC,OAAb,GAAuB,MAAvB;AACAX,QAAAA,OAAO,CAACU,KAAR,CAAcC,OAAd,GAAwB,MAAxB;AACAZ,QAAAA,MAAM,CAAC2B,SAAP,GAAmBK,GAAnB;AACH,OAJV;AAKA,KA9CD;;AA+CM,QAAI9B,SAAJ,EAAeA,SAAS,CAAC+B,QAAV,GAAqB9B,KAArB;AAElB,GAvDQ,CAAT;;AAyDA,MAAIR,QAAQ,KAAK,IAAjB,EAAuB;AACvB,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAS,MAAA,EAAE,EAAC,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACR;AAAK,MAAA,GAAG,EAAC,eAAT;AAAyB,MAAA,GAAG,EAAC,EAA7B;AAAgC,MAAA,SAAS,EAAC,iBAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADQ,eAER;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAFQ,eAGR;AAAM,MAAA,EAAE,EAAC,YAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAG,MAAA,SAAS,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,IAAI,EAAC,UAAxB;AAAmC,MAAA,EAAE,EAAC,gBAAtC;AAAuD,MAAA,WAAW,EAAC,UAAnE;AAA8E,MAAA,QAAQ,MAAtF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,eAIU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJV,eAKI;AAAK,MAAA,SAAS,EAAC,mBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAG,MAAA,SAAS,EAAC,YAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,eAEA;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,IAAI,EAAC,UAA5B;AAAuC,MAAA,EAAE,EAAC,gBAA1C;AAA2D,MAAA,WAAW,EAAC,UAAvE;AAAkF,MAAA,QAAQ,MAA1F;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFA,CALJ,eAQU;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MARV,eASI;AAAO,MAAA,IAAI,EAAC,QAAZ;AAAqB,MAAA,KAAK,EAAC,OAA3B;AAAmC,MAAA,EAAE,EAAC,WAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATJ,eASwD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATxD,eAUI;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAkC,MAAA,EAAE,EAAC,SAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAVJ,eAWI;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAoC,MAAA,EAAE,EAAC,QAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAXJ,eAYI;AAAK,MAAA,EAAE,EAAC,SAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAkB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAlB,CAZJ,eAaI;AAAM,MAAA,SAAS,EAAC,UAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA2B;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,IAAI,EAAC,aAA5B;AAA0C,MAAA,EAAE,EAAC,aAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA3B,eAAuF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAvF,CAbJ,eAcI;AAAO,MAAA,OAAO,EAAC,iBAAf;AAAiC,MAAA,SAAS,EAAC,iBAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAA6D,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,SAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAA7D,CAdJ,CAHQ,eAmBR;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAnBQ,eAoBR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gDAA2B,oBAAC,IAAD;AAAM,MAAA,EAAE,EAAC,SAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAA3B,CApBQ,CAFJ,eAwBR;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAxBQ,CADJ;AA4BH,GA7BG,MA6BG;AACH,wBAAO,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAEA,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AACH;;AAAA;AACA;AAAA","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, Redirect } from \"react-router-dom\";\nimport Navbar from \"../Components/Navbar\";\n\nexport default function Login(props) {\n    const [redirect, setRedirect] = useState(null);\n\n    useEffect(() => {\n        const success = document.getElementById(\"success\");\n        const failed = document.getElementById(\"failed\");\n        const loading = document.getElementById(\"loading\");\n        const loginForm = document.getElementById(\"login-form\");\n\n\t\tconst login = (e) => {\n\t\t\te.preventDefault();\n\t\t\tconst formData = new FormData(loginForm);\n\t\t\tconst username = formData.get(\"username\");\n            const password = formData.get(\"password\");\n            loading.style.display = \"flex\";\n            success.style.display = \"none\";\n            failed.style.display = \"none\";\n\n\t\t\tconst Params = {\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-type\": \"application/JSON\",\n\t\t\t\t},\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tusername: username,\n\t\t\t\t\tpassword: password,\n\t\t\t\t}),\n\t\t\t\tmethod: \"POST\",\n\t\t\t};\n\n\t\t\tasync function auth() {\n\t\t\t\tconst res = await fetch(\n\t\t\t\t\t\"https://budgetify20.herokuapp.com/api/login\",\n\t\t\t\t\tParams\n\t\t\t\t);\n\t\t\t\tconst data = await res.json();\n                console.log(data);\n                loginForm.reset();\n                success.style.display = \"flex\";\n                loading.style.display = \"none\";\n                failed.style.display = \"none\";\n                success.innerHTML = data.error ? data.error + \" Please try again\" : data.message;\n                if(data.message) {\n                    console.log(props)\n                    props.updateUser({\n                        username: username,\n                        password: password\n                    })\n                    setRedirect(\"/profile\");\n                }\n\t\t\t}\n\t\t\tauth().catch(err => {\n                failed.style.display = \"flex\";\n                loading.style.display = \"none\";\n                failed.innerHTML = err;\n            });\n\t\t};\n        if (loginForm) loginForm.onsubmit = login;\n\n    })\n\n    if (redirect === null) {\n    return (\n        <div>\n            <Navbar />\n            <section id=\"login\">\n    <img src=\"user-icon.png\" alt=\"\" className=\"user-icon-login\" />\n    <h3>Sign In</h3>\n    <form id=\"login-form\">\n        <div className=\"input-field-login\">\n            <i className=\"fa fa-user\"></i>\n            <input type=\"text\" name=\"username\" id=\"username-login\" placeholder=\"USERNAME\" required />\n        </div><br/>\n        <div className=\"input-field-login\">\n            <i className=\"fa fa-lock\"></i>\n        <input type=\"password\" name=\"password\" id=\"password-login\" placeholder=\"PASSWORD\" required />\n        </div><br/>\n        <input type=\"submit\" value=\"Login\" id=\"login-btn\" /><br/>\n        <div className=\"Successful-login\" id=\"success\">Registeration Successful!</div>\n        <div className=\"Unsuccessful-login\" id=\"failed\">Use a valid user input</div>\n        <div id=\"loading\"><h4>Loading...</h4></div>\n        <span className=\"remember\"><input type=\"checkbox\" name=\"remember-me\" id=\"remember-me\"/><label>Remember me</label></span>\n        <label htmlFor=\"Forgot-password\" className=\"forgot-password\"><Link to=\"/forgot\">Forgot Password?</Link></label>\n    </form>\n    <div className=\"line-through\"></div>\n    <p>Don't have an account ? <Link to=\"/signup\">REGISTER HERE</Link></p>\n</section>\n<div className=\"illustration-login\"></div>\n    </div>\n    )\n} else {\n    return <Redirect to={redirect}/>\n};\n};\n"]},"metadata":{},"sourceType":"module"}