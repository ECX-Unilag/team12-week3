{"ast":null,"code":"var _jsxFileName = \"/home/lawfirm/Documents/Tutorials/CMS App/src/Pages/Official.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Redirect } from \"react-router-dom\";\nimport Header from \"../Components/Header\";\nimport Footer from \"../Components/Footer\";\n\nconst Official = props => {\n  const [redirect, setRedirect] = useState(null);\n  useEffect(() => {\n    const navList = document.querySelectorAll(\"li\");\n    navList.forEach(list => {\n      if (list.classList.contains(\"active\")) {\n        list.classList.remove(\"active\");\n      }\n    });\n    navList[2].style.display = \"none\";\n    navList[1].classList.add(\"active\");\n    const form = document.querySelector(\"form\");\n    const loading = document.querySelector(\".loading\");\n    const loginBtn = document.querySelector(\".login-btn\");\n    const failed = document.querySelector(\".failed\");\n    form.onsubmit = handleSubmit;\n\n    function handleSubmit(e) {\n      e.preventDefault();\n      loginBtn.style.display = \"none\";\n      loading.style.display = \"flex\";\n      let formData = new FormData(form);\n      let username = formData.get(\"username\");\n      let password = formData.get(\"password\");\n      let Params = {\n        headers: {\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        body: `username=${username}&password=${password}`,\n        method: \"POST\"\n      };\n\n      const sendData = async function () {\n        const res = await fetch(\"https://cms-team20.herokuapp.com/api/admin/dashboard\", Params);\n        const data = await res.json();\n        loading.style.display = \"none\";\n        loginBtn.style.display = \"flex\";\n\n        if (data.error) {\n          failed.style.display = \"flex\";\n          failed.innerHTML = `<h6>Error: ${data.error}</h6>`;\n        } else {\n          failed.style.display = \"none\";\n          props.updateData(data);\n          setRedirect(\"/administrative\");\n        }\n      };\n\n      sendData().catch(err => {\n        loading.style.display = \"none\";\n        loginBtn.style.display = \"flex\";\n        failed.style.display = \"flex\";\n        console.log(err);\n      });\n    }\n  }, [props]);\n\n  if (redirect === null) {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container-xl container-fluid\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      \"data-aos\": \"fade-right\",\n      className: \"login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h3\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 17\n      }\n    }, \"Welcome\"), /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"loginId\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 25\n      }\n    }, \"Username\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"name\",\n      name: \"username\",\n      autoComplete: \"true\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 25\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"password\",\n      name: \"password\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"login-btn\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      type: \"submit\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 25\n      }\n    }, \"Login\"))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"loading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 38\n      }\n    }, \"Loading...\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"failed\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 18\n      }\n    }, \"Invalid username or password, Please try again\")))), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }\n    }));\n  } else return /*#__PURE__*/React.createElement(Redirect, {\n    to: redirect,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }\n  });\n};\n\nexport default Official;","map":{"version":3,"sources":["/home/lawfirm/Documents/Tutorials/CMS App/src/Pages/Official.js"],"names":["React","useState","useEffect","Redirect","Header","Footer","Official","props","redirect","setRedirect","navList","document","querySelectorAll","forEach","list","classList","contains","remove","style","display","add","form","querySelector","loading","loginBtn","failed","onsubmit","handleSubmit","e","preventDefault","formData","FormData","username","get","password","Params","headers","body","method","sendData","res","fetch","data","json","error","innerHTML","updateData","catch","err","console","log"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,OAAOC,MAAP,MAAmB,sBAAnB;;AAEA,MAAMC,QAAQ,GAAIC,KAAD,IAAW;AAExB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BR,QAAQ,CAAC,IAAD,CAAxC;AACAC,EAAAA,SAAS,CAAC,MAAM;AACZ,UAAMQ,OAAO,GAAGC,QAAQ,CAACC,gBAAT,CAA0B,IAA1B,CAAhB;AACAF,IAAAA,OAAO,CAACG,OAAR,CAAgBC,IAAI,IAAI;AACpB,UAAIA,IAAI,CAACC,SAAL,CAAeC,QAAf,CAAwB,QAAxB,CAAJ,EAAuC;AACnCF,QAAAA,IAAI,CAACC,SAAL,CAAeE,MAAf,CAAsB,QAAtB;AACH;AACJ,KAJD;AAKAP,IAAAA,OAAO,CAAC,CAAD,CAAP,CAAWQ,KAAX,CAAiBC,OAAjB,GAA2B,MAA3B;AACAT,IAAAA,OAAO,CAAC,CAAD,CAAP,CAAWK,SAAX,CAAqBK,GAArB,CAAyB,QAAzB;AAEA,UAAMC,IAAI,GAAGV,QAAQ,CAACW,aAAT,CAAuB,MAAvB,CAAb;AACA,UAAMC,OAAO,GAAGZ,QAAQ,CAACW,aAAT,CAAuB,UAAvB,CAAhB;AACA,UAAME,QAAQ,GAAGb,QAAQ,CAACW,aAAT,CAAuB,YAAvB,CAAjB;AACA,UAAMG,MAAM,GAAGd,QAAQ,CAACW,aAAT,CAAuB,SAAvB,CAAf;AACAD,IAAAA,IAAI,CAACK,QAAL,GAAgBC,YAAhB;;AAEA,aAASA,YAAT,CAAsBC,CAAtB,EAAyB;AACrBA,MAAAA,CAAC,CAACC,cAAF;AACAL,MAAAA,QAAQ,CAACN,KAAT,CAAeC,OAAf,GAAyB,MAAzB;AACAI,MAAAA,OAAO,CAACL,KAAR,CAAcC,OAAd,GAAwB,MAAxB;AAEA,UAAIW,QAAQ,GAAG,IAAIC,QAAJ,CAAaV,IAAb,CAAf;AACA,UAAIW,QAAQ,GAAIF,QAAQ,CAACG,GAAT,CAAa,UAAb,CAAhB;AACA,UAAIC,QAAQ,GAAGJ,QAAQ,CAACG,GAAT,CAAa,UAAb,CAAf;AACA,UAAIE,MAAM,GAAG;AACTC,QAAAA,OAAO,EAAE;AACL,0BAAgB;AADX,SADA;AAITC,QAAAA,IAAI,EAAG,YAAWL,QAAS,aAAYE,QAAS,EAJvC;AAKTI,QAAAA,MAAM,EAAE;AALC,OAAb;;AAOA,YAAMC,QAAQ,GAAG,kBAAgB;AAChC,cAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,sDAAD,EAAyDN,MAAzD,CAAvB;AACG,cAAMO,IAAI,GAAG,MAAMF,GAAG,CAACG,IAAJ,EAAnB;AACApB,QAAAA,OAAO,CAACL,KAAR,CAAcC,OAAd,GAAwB,MAAxB;AACAK,QAAAA,QAAQ,CAACN,KAAT,CAAeC,OAAf,GAAyB,MAAzB;;AACA,YAAIuB,IAAI,CAACE,KAAT,EAAe;AACfnB,UAAAA,MAAM,CAACP,KAAP,CAAaC,OAAb,GAAuB,MAAvB;AACAM,UAAAA,MAAM,CAACoB,SAAP,GAAoB,cAAaH,IAAI,CAACE,KAAM,OAA5C;AACC,SAHD,MAGO;AACPnB,UAAAA,MAAM,CAACP,KAAP,CAAaC,OAAb,GAAuB,MAAvB;AACAZ,UAAAA,KAAK,CAACuC,UAAN,CAAiBJ,IAAjB;AACAjC,UAAAA,WAAW,CAAC,iBAAD,CAAX;AACC;AACJ,OAbD;;AAeA8B,MAAAA,QAAQ,GAAGQ,KAAX,CAAiBC,GAAG,IAAI;AACpBzB,QAAAA,OAAO,CAACL,KAAR,CAAcC,OAAd,GAAwB,MAAxB;AACAK,QAAAA,QAAQ,CAACN,KAAT,CAAeC,OAAf,GAAyB,MAAzB;AACAM,QAAAA,MAAM,CAACP,KAAP,CAAaC,OAAb,GAAuB,MAAvB;AACA8B,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACH,OALD;AAMH;AACJ,GArDQ,EAqDN,CAACzC,KAAD,CArDM,CAAT;;AAsDA,MAAGC,QAAQ,KAAK,IAAhB,EAAqB;AACrB,wBACI,uDACA;AAAK,MAAA,SAAS,EAAC,8BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACA,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,eAEI;AAAK,kBAAS,YAAd;AAA2B,MAAA,SAAS,EAAC,OAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAkB,MAAA,IAAI,EAAC,UAAvB;AAAkC,MAAA,YAAY,EAAC,MAA/C;AAAsD,MAAA,QAAQ,MAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,eAKI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAO,MAAA,IAAI,EAAC,UAAZ;AAAuB,MAAA,IAAI,EAAC,UAA5B;AAAuC,MAAA,QAAQ,MAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CALJ,eASI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAQ,MAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADJ,CATJ,CAFJ,eAeA;AAAK,MAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAyB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAzB,CAfA,eAgBC;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wDADJ,CAhBD,CAFJ,CADA,eAwBA,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAxBA,CADJ;AA4BC,GA7BD,MA6BO,oBACH,oBAAC,QAAD;AAAU,IAAA,EAAE,EAAEA,QAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADG;AAGV,CAzFD;;AA2FA,eAAeF,QAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Redirect } from \"react-router-dom\";\nimport Header from \"../Components/Header\";\nimport Footer from \"../Components/Footer\";\n\nconst Official = (props) => {\n\n    const [redirect, setRedirect] = useState(null)\n    useEffect(() => {\n        const navList = document.querySelectorAll(\"li\");\n        navList.forEach(list => {\n            if (list.classList.contains(\"active\")) {\n                list.classList.remove(\"active\");\n            }\n        })\n        navList[2].style.display = \"none\";\n        navList[1].classList.add(\"active\");\n\n        const form = document.querySelector(\"form\");\n        const loading = document.querySelector(\".loading\");\n        const loginBtn = document.querySelector(\".login-btn\");\n        const failed = document.querySelector(\".failed\");\n        form.onsubmit = handleSubmit;\n\n        function handleSubmit(e) {\n            e.preventDefault();\n            loginBtn.style.display = \"none\"\n            loading.style.display = \"flex\";\n\n            let formData = new FormData(form)\n            let username =  formData.get(\"username\");\n            let password = formData.get(\"password\");\n            let Params = {\n                headers: {\n                    'Content-Type': 'application/x-www-form-urlencoded'\n                },\n                body: `username=${username}&password=${password}`,\n                method: \"POST\"\n            };\n            const sendData = async function(){\n             const res = await fetch(\"https://cms-team20.herokuapp.com/api/admin/dashboard\", Params);\n                const data = await res.json();\n                loading.style.display = \"none\";\n                loginBtn.style.display = \"flex\";\n                if (data.error){\n                failed.style.display = \"flex\";\n                failed.innerHTML = `<h6>Error: ${data.error}</h6>`\n                } else {\n                failed.style.display = \"none\";\n                props.updateData(data);\n                setRedirect(\"/administrative\");\n                }\n            }\n\n            sendData().catch(err => {\n                loading.style.display = \"none\";\n                loginBtn.style.display = \"flex\";\n                failed.style.display = \"flex\";\n                console.log(err);\n            });\n        }\n    }, [props])\n    if(redirect === null){\n    return (\n        <>\n        <div className=\"container-xl container-fluid\">\n        <Header/>\n            <div data-aos=\"fade-right\" className=\"login\">\n                <h3>Welcome</h3>\n                <form>\n                    <div className=\"loginId\">\n                        <label>Username</label>\n                        <input type=\"name\"name=\"username\" autoComplete=\"true\" required/>\n                    </div>\n                    <div className=\"password\">\n                        <label>Password</label>\n                        <input type=\"password\" name=\"password\" required/>\n                    </div>\n                    <div className=\"login-btn\">\n                        <button type=\"submit\">Login</button>\n                    </div>\n                </form>\n            <div className=\"loading\"><p>Loading...</p></div>\n             <div className=\"failed\">\n                 <h6>Invalid username or password, Please try again</h6>\n             </div>\n            </div>\n        </div>\n        <Footer />\n        </>\n    )\n    } else return (\n        <Redirect to={redirect} />\n    )\n}\n\nexport default Official;"]},"metadata":{},"sourceType":"module"}